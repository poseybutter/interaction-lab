/* ==========================================================================
  components/_button.scss
========================================================================== */

@use "../base/mixins" as *;

/* 기본 버튼 (g-btn) */
.g-btn {
  @include button-base;
  gap: 0.6rem;
  padding: 0.9rem 1.2rem;
  border-radius: 0.9rem;
  border: 1px solid rgba(15, 23, 42, 0.14);
  background: rgba(15, 23, 42, 0.04);
  color: var(--color-text);
  font-weight: 650;
  letter-spacing: -0.01em;
  transition:
    transform var(--motion-duration-fast) var(--motion-ease-standard),
    background var(--motion-duration-fast) var(--motion-ease-standard),
    border-color var(--motion-duration-fast) var(--motion-ease-standard);
  
  &:hover {
    background: rgba(15, 23, 42, 0.06);
    border-color: rgba(15, 23, 42, 0.20);
    
    html[data-theme="dark"] & {
      background: rgba(255, 255, 255, 0.10);
      border-color: rgba(255, 255, 255, 0.20);
    }
  }
  
  &:active {
    transform: translateY(1px);
  }
  
  &:focus-visible {
    @include focus-outline;
  }
  
  &[disabled],
  &[aria-disabled="true"] {
    opacity: 0.55;
    cursor: not-allowed;
  }
}

.g-btn-primary {
  background: linear-gradient(180deg, rgba(59, 130, 246, 0.95), rgba(37, 99, 235, 0.92));
  border-color: rgba(59, 130, 246, 0.35);
}

.g-btn-ghost {
  background: transparent;
}

/* ==========================================================================
  KRDS 버튼
========================================================================== */
.krds-btn {
  @include button-base;
  padding: 0 var(--krds-padding-6, 2.4rem);
  border: none;
  border-radius: var(--krds-radius-medium2, 0.8rem);
  
  // 사이즈
  &.small { @include button-size(small); }
  &.medium { @include button-size(medium); }
  &.large { @include button-size(large); }
  &.xlarge { @include button-size(xlarge); }
  
  // Primary 버튼
  &.primary {
    background-color: var(--krds-light-color-element-primary, #2563eb);
    color: #ffffff;
    
    &:hover:not(:disabled) {
      background-color: var(--krds-light-color-element-primary-hover, #1e50c9);
    }
    
    html[data-theme="dark"] & {
      background-color: var(--krds-dark-color-element-primary, #4c87f6);
      
      &:hover:not(:disabled) {
        background-color: var(--krds-dark-color-element-primary-hover, #6a9bf7);
      }
    }
  }
  
  // Border 버튼 (아이콘 전용)
  &.border {
    background-color: var(--krds-light-color-background-white, #ffffff);
    border: 0.1rem solid var(--krds-light-color-border-gray, rgba(0, 0, 0, 0.12));
    border-radius: var(--krds-radius-max, 999px);
    padding: 0;
    
    &.large {
      @include square(var(--krds-size-height-8, 5.2rem));
      
      .svg-icon {
        @include icon-size(xsmall);
      }
    }
    
    &.xlarge {
      @include square(var(--krds-button--icon-size-xlarge, 4rem));
      
      .svg-icon {
        @include square(1.6rem);
      }
    }
    
    &:disabled,
    &.disabled {
      background-color: var(--krds-light-color-button-disabled-fill, #f1f5f9);
    }
    
    &:hover:not(:disabled) {
      background-color: var(--krds-light-color-surface-gray-subtler, #f8fafc);
    }
    
    html[data-theme="dark"] & {
      background-color: var(--krds-dark-color-background-white, #1e2124);
      border-color: var(--krds-dark-color-border-gray, rgba(255, 255, 255, 0.12));
      
      &:hover:not(:disabled) {
        background-color: var(--krds-dark-color-surface-gray-subtler, #33363d);
      }
    }
  }
  
  // Icon 버튼
  &.icon {
    padding: 0;
    aspect-ratio: 1;
  }
}
